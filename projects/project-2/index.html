<!doctype html><html lang=en-us> <head> <meta charset=utf-8> <title>Sentiment Analysis in the banking sector</title> <meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"> <meta name=description content="This is meta description"> <meta name=author content="Themefisher"> <meta name=generator content="Hugo 0.69.0"> <link rel=stylesheet href=../../plugins/bootstrap/bootstrap.min.css> <link rel=stylesheet href=../../plugins/themify-icons/themify-icons.css> <link rel=stylesheet href=../../scss/style.css media=screen> <link rel="shortcut icon" href=../../images/favicon.png type=image/x-icon> <link rel=icon href=../../images/favicons.png type=image/x-icon> </head> <style>.title-image{text-align: center;}div{text-align: justify; text-justify: inter-word;}img{max-width: 100%; height: auto;}</style> <body> <div class=preloader></div><div id=particles-js></div><header class="sticky-top bg-black"> <div class=container> <nav class="navbar navbar-expand-lg navbar-dark bg-transparent"> <a class=navbar-brand href=https://carlosbarros.netlify.app><img class=img-fluid src=../../images/logo.png alt="Carlos Barros | Portfolio" width="170" height="250"></a> <button class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#navigation> <i class="ti-menu text-white"></i></button> <div class="collapse navbar-collapse text-center" id=navigation> <ul class="navbar-nav mx-auto"> <li class=nav-item><a class=nav-link href=../../index.html>home</a></li><li class=nav-item><a class=nav-link href=../../author/carlos-barros/index.html>about</a></li><li class=nav-item><a class=nav-link href=../index.html>project</a></li><li class=nav-item><a class=nav-link href=../../contact.html>contact</a></li><li class=nav-item> </li></ul> <a href=../../contact.html class="btn btn-primary ml-lg-4">contact</a> </div></nav> </div></header> <section class=section> <div class="container text-left text-sm-center"> <h2>Sentiment Analysis in the banking sector using Twitter API, AWS Comprehend and AWS SageMaker</h2> </div></section> <section class="section pt-0"> <div class=container> <div class=row> <article class="col-lg-8 col-md-10 mx-auto" data-target=article> <div class=text-center><ul class="list-inline mb-3"> <li class=list-inline-item><i class="text-primary ti-calendar mr-2"></i>13 Jul, 2020</li><li class=list-inline-item><i class="text-primary ti-time mr-2"></i>8 min read</li></ul> </div><div class="content mt-5"> <p style="font-size:35px"> <strong>INTRODUCTION</strong></p><p style="font-size:25px"> <strong>Problem</strong></p><p> According to the 2019 report published by the company DOMO [1] in which they study the amount of data collected in each minute states that people are tweeting their thoughts at 511,200 tweets per minute. Indeed, the world is becoming more and more hyperconnected and the amount of information is increasing. However, companies are no strangers to this, and they generate large amounts of data that can be used to generate value in decision making and thus seek greater profitability in business. In the case of the financial sector, there are two primary data sources: external and internal data sources [2]. Internal data can be transaction data, registration data, application data. External data can be from any social media and website. </p><p>The main objective of this article is to share the main findings about sentiment analysis in the banking sector using the Twitter API, AWS Comprehend and AWS SageMaker. </p><p> Having said that, it is important to highlight that this study has taken 3 Colombian banks, the data was generated from the Twitter API, from the Jupyter Notebook of AWS SageMarker [3], with specific hashtags for each of these banks, thus generating all the information corresponding to customer feedback. After that, AWS Comprehend was used to analyze the input data (API) using the power of NLP algorithms to extract key phrases, entities and feelings automatically(<strong>SEE FIGURE 1</strong>). Because these AWS models are pre-trained, it was possible to classify each comment into three totally different scores: positive, negative and neutral. </p><p>In the same sense, the questions posed for the analysis were:</p><ol> <li>Which bank has the highest number of tweets?</li><li>What is the customer's perception of the city where the bank is headquartered?</li><li>What is the perception of the clients classified by city?</li></ol> <br><br><p style="font-size:35px"> <strong>DATA</strong></p><p style="font-size:25px"> <strong>Data sources</strong></p><p> The data is extracted from the Twitter API. Because 3 banks are analyzed, each one represented in totally different datasets, it is also worth adding that the tweets were taken into account, the date that was published and the place of origin (<strong>SEE TABLE 1</strong>). Later on, new columns are added with the different types of positive, negative and neutral score respectively. </p><br><p style="text-align:center;"><img src="../../images/projects/project-2/1-Bancolombia.PNG"></p><p style="text-align:center;"><strong><i>Table 1</i></strong></p><br><br><p> For this phase of exploratory analysis it is fundamental to check the existence of null values and for this case in the column "location" there are 10 null values (<strong>SEE TABLE 2</strong>). In this way the data is cleaned (<strong>SEE TABLE 3</strong>). </p><br><p style="text-align:center;"><img src="../../images/projects/project-2/2-valores_nulos.PNG"></p><p style="text-align:center;"><strong><i>Table 2</i></strong></p><br><br><p style="text-align:center;"><img src="../../images/projects/project-2/3-limpieza_de_datos.PNG"></p><p style="text-align:center;"><strong><i>Table 3</i></strong></p><br><br><p>However, it is possible to check again that in the dataset there are no null values (<strong>SEE TABLE 4</strong>) </p><br><p style="text-align:center;"><img src="../../images/projects/project-2/4-no_valores_nulos.PNG"></p><p style="text-align:center;"><strong><i>Table 4</i></strong></p><br><br><p> It is important to emphasize that this same treatment in the preparation of data was executed exactly with the 3 datasets of the banks in order to make analyses with clean data. To better illustrate the above, an example of a dataset with the different columns that was taken into account for the analysis of the present study can be seen below. </p><br><p style="text-align:center;"><img src="../../images/projects/project-2/5-dataframe_todos_los_valores.PNG"></p><p style="text-align:center;"><strong><i>Table 5</i></strong></p><br><br><br><p style="font-size:25px"> <strong>Methods</strong></p><p> As mentioned above, the data is generated from a twitter API call, after that, AWS Comprehend (<strong>SEE GRAPHIC 1</strong>) through its pre-trained algorithms classifies the feelings of the content of each of the comments in three different types: positive, negative and neutral. Finally, this classification is displayed in tables containing relevant information to later analyze each comment individually. </p><br><p style="text-align:center;"><img src="../../images/projects/project-2/aws-comprehend.png"></p><p style="text-align:center;"><strong><i>Graphic 1</i></strong></p><br><br><p style="font-size:25px"> <strong>Analysis</strong></p><p style="font-size:20px"> <strong>Bancolombia</strong></p><p> The data generated through the twitter API with the hashtag <strong>#bancolombia</strong>, extracted a total of 59 tweets, however, in the process of data cleaning, explained in the section data sources, the dataset was left with 49 tweets. The date is in the range of 06/16/2020 to 06/23/2020. In <strong>CHART 2</strong>, the main cities can be seen, being Bucaramanga the one with the highest negative score with an average of 0.8217, followed by Cartagena, Cali and Medellín with 0.5923, 0.4703 and 0.3444 respectively. </p><br><p style="text-align:center;"><img src="../../images/projects/project-2/Principal_cities_nacional_Bancolombia.png"></p><p style="text-align:center;"><strong><i>Chart 2</i></strong></p><br><br><p> The main reason that the city of Bucaramanga and Cartagena have a high score is that there was only one publication on a specific day (<strong>SEE CHART 3</strong>). </p><br><p style="text-align:center;"><img src="../../images/projects/project-2/Bucaramanga_days_Bancolombia.png"></p><p style="text-align:center;"><strong><i>Chart 3</i></strong></p><br><br><p> The case of Cali is similar as it is only published on two days (June 16 and 17). Therefore, since the city of Bogotá and Medellín present comments on more than 4 different days, this study has excluded the cities where the number of days is less than 4, this in order to ensure an unbiased analysis and with the aim of being as accurate as possible. In conclusion, for the Bancolombia dataset only the city of Bogota and Medellin were analyzed, with tweet numbers of 12 and 20 respectively(<strong>SEE APPENDIX 1</strong>). </p><p> Bearing in mind the above, the trend in the comments generated in the city of Medellín is towards neutral thinking with 0.4567(<strong>SEE CHART 4</strong>). However, it is important to note that although Bancolombia is headquartered in this city, the perception of its customers presents a higher negative score with 0.3444 compared to 0.1173 in Bogota. </p><br><p style="text-align:center;"><img src="../../images/projects/project-2/bgta_mde_Bancolombia.png"></p><p style="text-align:center;"><strong><i>Chart 4</i></strong></p><br><br><p> It can be concluded that Bancolombia's clients in the city of Medellín do not present a clear trend in terms of thoughts as if they were in Bogotá with a neutral score average of 0.7416. The positive and negative scores for this city are very similar, 0.1411 and 0.1173 respectively, but the trend is clear. </p><p> In addition to the above, in <strong>CHART 5 </strong>we can see the trends with respect to the different types of scores for the city of Medellín, in the date range mentioned above, we can conclude that between 06/16/2020 and 06/17/2020 there was an upward trend towards negative thinking on the part of clients. However, it decreased to start a neutral position on 06/18/2020 and from 06/19/2020 the positive perception of the clients increased, leaving the negative and neutral perceptions in a lateral trend. </p><br><p style="text-align:center;"><img src="../../images/projects/project-2/Medellin_days_Bancolombia.png"></p><p style="text-align:center;"><strong><i>Chart 5</i></strong></p><br><br><p> As for the city of Bogotá (<strong>SEE CHART 6</strong>), it started on 17/06/2020 with a negative position from customers. While the neutral position was consolidated from 06/18/2020 marking a clear tendency since the positive thought was decreasing little by little in the course of the days. </p><br><p style="text-align:center;"><img src="../../images/projects/project-2/Bogota_days_Bancolombia.png"></p><p style="text-align:center;"><strong><i>Chart 6</i></strong></p><br><br><p> Similarly, the dataset presented international opinions (<strong>SEE APPENDIX 2</strong>) from different latitudes (<strong>SEE CHART 7</strong>), with Barcelona presenting a negative position towards the bank, in the other cities the comments generated neutral trends. </p><p style="text-align:center;"><img src="../../images/projects/project-2/International_cities_Bancolombia.png"></p><p style="text-align:center;"><strong><i>Chart 7</i></strong></p><br><br><p style="font-size:20px"> <strong>Banco de Bogotá</strong></p><p> The data generated through the twitter API with the hashtag <strong>#bancodebogota</strong>, extracted a total of 7 tweets, however, in the data cleaning process, explained in the data sources section, the dataset was left with 6 tweets (<strong>SEE APPENDIX 3</strong>). The date is in the range of 16/06/2020 to 20/06/2020. In <strong>CHART 8</strong>, it can be seen the cities where the publications were made, being Bogota clients where more tweets were generated, with a negative position in front of the bank in an average of 0.4006, close to the neutral position with an average of 0.3657. It can be concluded that there are diverse opinions from customers. As for Cali, it shows a clear neutral trend and Manizales a positive one. </p><br><p style="text-align:center;"><img src="../../images/projects/project-2/Principal_cities_bancodebogota.png"></p><p style="text-align:center;"><strong><i>Chart 8</i></strong></p><br><br><p>In <strong>CHART 9</strong> we can examine in detail the behavior of the clients' feelings throughout the days, it starts with a strong negative position but it decreases, maintaining a neutral position and a positive position in an upward trend. </p><br><p style="text-align:center;"><img src="../../images/projects/project-2/Bogota_days_bancodebogota.png"></p><p style="text-align:center;"><strong><i>Chart 9</i></strong></p><br><br><p style="font-size:20px"> <strong>Banco Davivienda</strong></p><p> The data generated through the twitter API with the hashtag <strong>#davivienda</strong>, extracted a total of 39 tweets, however, in the data cleaning process, explained in the data sources section, the dataset was left with 32 tweets (<strong>SEE APPENDIX 4</strong>). The date is in the range of 06/17/2020 to 06/23/2020. In chart 10, the cities where the publications were made can be seen. However, since Barranquilla, Cúcuta, Facatativá and Maracaibo presented 1 tweet as opposed to 24 in Bogotá, these cities are excluded to analyze only the latter. </p><br><p style="text-align:center;"><img src="../../images/projects/project-2/Principal_cities_bancodebogota.png"></p><p style="text-align:center;"><strong><i>Chart 10</i></strong></p><br><br><p>Bearing in mind the above, it is worth noting that this bank is headquartered in the city of Bogotá and its customers showed a neutral position with an average of 0.7445. As for the positive and negative thinking, they presented similarities with 0.1066 and 0.1486 respectively. In <strong>CHART 11</strong>, the above can be seen, since it began on 17/06/2020 with a positive perception but decreased, thus starting an upward trend of negative thinking that ended on 20/06/2020 and in turn the neutral perception was consolidated throughout the days. </p><br><p style="text-align:center;"><img src="../../images/projects/project-2/Bogota_davivienda.png"></p><p style="text-align:center;"><strong><i>Chart 11</i></strong></p><br><br><p style="font-size:35px"> <strong>CONCLUSIONS</strong></p><P> The bank that had the highest number of tweets in the dates between 06/16/2020 and 23/06/2020 was <strong>Bancolombia</strong> with a total of 49 vs. 7 and 32 of Banco de Bogotá and Davivienda respectively, it can be concluded in this way that Bancolombia's clients were more active in the specified dates vs. the clients of the other two banks. It is important to note that in the case of Banco de Bogotá and Davivienda whose headquarters are in the city of Bogotá, their clients have a neutral perception. The opposite is true of Bancolombia, whose headquarters are in Medellín, where the perception of the bank was more negative than positive. </P> <P> In the particular case of Bancolombia, it shows a clear presence in international cities where most of them maintain a neutral position. Finally, it is concluded from this study that most of the comments of the three banks analyzed come from the cities of Bogota and Medellin. </P> <br><br><p style="font-size:35px"> <strong>RECOMMENDATIONS</strong></p><p> Because a free layer of the Twitter API was used, it limits the number of tweets per call. It is likely that with a higher number of tweets, and consequently the datasets have more information, the results could be different or otherwise remain in similar trends presented in this study. </p><p> Finally, for subsequent projects it is recommended to take into account different inputs (<strong>SEE CHART 1</strong>), such as Twitter, Facebook and Instagram in order to increase the data and thus analyze more deeply the perception of customers in front of each of the banks </p><br><br><p style="font-size:35px"> <strong>ANNOUNCEMENTS</strong></p><p> The graphics have been published in a dashboard through <a href="https://public.tableau.com/profile/carlos.barros#!/vizhome/Sentimentanalysis-Bancolombia/Summary_Bancolombia">Tableau Public</a> that you can find in the following link. Also, if you want to see similar projects along with the source code you can go to my <a href="https://carlosbarros.netlify.app/">portfolio</a>. Finally, contact me through <a href="https://www.linkedin.com/in/carlosbarros7/">LinkedIn</a> or <a href="https://twitter.com/cbarros27">Twitter</a>. You can find the source code for this project in the following <a href="https://github.com/cbarros7/sentiment-analysis-banking-sector">Github</a> repository. </p><br><br><p style="font-size:35px"> <strong>REFERENCES</strong></p><p> [1] Domo.com. 2020. Domo Resource - Data Never Sleeps 7.0. [online] Available at: https://www.domo.com/learn/data-never-sleeps-7 [Accessed 28 June 2020]. </p><p> [2] M. Pejić Bach, Ž. Krstić, S. Seljan and L. Turulja, "Text Mining for Big Data Analysis in Financial Sector: A Literature Review", Sustainability, vol. 11, no. 5, p. 1277, 2019. Available: 10.3390/su11051277 [Accessed 26 June 2020]. </p><p> [3] "Amazon Comprehend - Natural Language Processing (NLP) and Machine Learning (ML)", Amazon Web Services, Inc., 2020. [Online]. Available: https://aws.amazon.com/comprehend/?nc1=h_ls. [Accessed: 27- Jun- 2020]. </p><p> [4] "Analyze content with Amazon Comprehend and Amazon SageMaker notebooks | Amazon Web Services", Amazon Web Services, 2020. [Online]. Available: https://aws.amazon.com/blogs/machine-learning/analyze-content-with-amazon-comprehend-and-amazon-sagemaker-notebooks/. [Accessed: 27- Jun- 2020]. </p><br><br><p style="font-size:35px"> <strong>APPENDIX</strong></p><p style="font-size:25px"> <strong>Appendix 1</strong></p><p style="text-align:center;"><img src="../../images/projects/project-2/Count_by_cities_Bancolombia.png"></p><br><p style="font-size:25px"> <strong>Appendix 2</strong></p><p style="text-align:center;"><img src="../../images/projects/project-2/count_International_cities_Bancolombia.png"></p><br><p style="font-size:25px"> <strong>Appendix 3</strong></p><p style="text-align:center;"><img src="../../images/projects/project-2/Count_cities_bancodebogota.png"></p><br><p style="font-size:25px"> <strong>Appendix 4</strong></p><p style="text-align:center;"><img src="../../images/projects/project-2/Counts_davivienda.png"></p><br></div></article> </div></div></section> <footer class=py-5> <div class=container> <div class=row> <div class="col-12 text-center"> <ul class="list-inline social-icons mb-5"> <li class=list-inline-item><a href=https://twitter.com/cbarros27><i class=ti-twitter-alt></i></a></li><li class=list-inline-item><a href=https://github.com/cbarros7><i class=ti-github></i></a></li><li class=list-inline-item><a href=https://www.linkedin.com/in/carlosbarros7/><i class=ti-linkedin></i></a></li></ul> <hr class="mx-auto border-default" style=width:90px> <p class=mt-5>Copyright © 2020 by <a href=https://themefisher.com/>themefisher</a></p></div></div></div></footer> <script src=../../plugins/jQuery/jquery.min.js></script><script src=../../plugins/bootstrap/bootstrap.min.js></script><script src=../../plugins/particles/particles.min.js></script><script src=../../plugins/particles/stats.min.js></script><script src=../../js/script.min.js></script> </body></html>